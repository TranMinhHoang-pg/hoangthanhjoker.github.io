!function(){"use strict";var e={7194:function(e,n,t){var r=t(6584),o=(t(4609),t(5666),t(9748)),a=t(1439),i=t(6401),s=t(6552),c=t(6829);const l="application/msgpack";var d,h={language:"vi",graphql:{endpoint:"/graphql"}};const u=(e=>{let{uri:n="/graphql",includeExtensions:t,useGETForQueries:r,...o}=e;const d={http:{includeExtensions:t},options:o.fetchOptions,credentials:o.credentials,headers:{"content-type":l,...o.headers}};return new c.ApolloLink((e=>{var t;const r=(0,c.selectURI)(e,n),o=e.getContext(),h=o.headers,u={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:h},{options:p,body:g}=(0,c.selectHttpOptionsAndBody)(e,c.fallbackHttpConfig,d,u);if((null==(t=p.headers["content-type"])?void 0:t.slice(0,l.length))===l){const{query:e,variables:n,operationName:t}=g;p.body=(0,i.c)([e,n,t])}else p.body=JSON.stringify(g);return new a.y$((async n=>{try{const t=await fetch(r,p);let o;e.setContext({response:t});const a=t.headers.get("Content-Type");if((null==a?void 0:a.slice(0,l.length))===l){const e=await t.blob();o=(0,s.J)(await(e=>new Promise(((n,t)=>{const r=new FileReader;r.onerror=t,r.onload=e=>n(e.target.result),r.readAsArrayBuffer(e)})))(e))}else o=await t.json();n.next(o),n.complete()}catch(e){if("AbortError"===e.name)return;e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e)}return()=>{}}))}))})({uri:null==h||null==(d=h.graphql)?void 0:d.endpoint,credentials:"omit"});var p=new a.fe({link:u,cache:new a.h4});const g=e=>e+Date.now()+Math.floor(1e3*Math.random()),m={pushModal:null,removeModal:null,typeMap:new Map};class f extends o.ZP.PureComponent{constructor(...e){super(...e),this.state={hasError:!1}}componentDidCatch(e){this.setState({hasError:!0}),this.props.reject(e)}render(){const{component:e,reject:n,...t}=this.props;return this.state.hasError?null:o.ZP.createElement(e,t)}}const v=o.ZP.memo((({id:e,mType:n,data:t,resolve:o,reject:a})=>(0,r.tZ)(f,{component:m.typeMap.get(n),reject:n=>{m.removeModal(e),a instanceof Function&&a(n)},close:n=>t=>{m.removeModal(e),o instanceof Function&&o(n)},data:t}))),b=({container:e,component:n,...t})=>{const[a,i]=(0,o.eJ)([]);(0,o.d4)((()=>(m.pushModal=e=>i((n=>[...n,e])),m.removeModal=e=>i((n=>n.filter((n=>n.id!==e)))),()=>{m.pushModal=m.removeModal=null})),[]);let s=a.map((e=>(0,r.tZ)(v,{...e},e.id)));return n&&(s=o.ZP.createElement(n,t,s)),e?o.ZP.createPortal(s):s};var y=o.ZP.memo(b),Z=t(7673),w=t(6010),k=({className:e,close:n,children:t})=>{const o=(0,w.Z)("container_dbRHg","fade_ggcw3","shown_PREcv","modal");return(0,r.tZ)("div",{className:o,onClick:e=>{e.target.className===o&&(n&&n(e),e.stopPropagation(),e.preventDefault())},children:(0,r.tZ)("div",{className:(0,w.Z)("popup_2zGFv","show_103PZ",e,"content"),children:t})})};const M="message";var C;(C=M,e=>(Object.defineProperty(e,"name",{value:C}),m.typeMap.set(C,e),e))((({close:e,data:{title:n,message:t,icon:o}})=>(0,r.BX)(k,{close:e(),children:[(0,r.tZ)("div",{className:"title",children:n}),!!o&&(0,r.tZ)("div",{className:"icon-section",children:(0,r.tZ)("img",{src:"info"===o?"/images/success.svg":"success"===o?"/images/success.svg":o})}),(0,r.tZ)("div",{children:t}),(0,r.tZ)("div",{className:"btn-section",children:(0,r.tZ)("div",{className:"btn",onClick:e(),children:"OK"})})]})));var P,N=(e,n,t)=>((e,n)=>{if(!m.pushModal)throw Error("please init Modal component");if(!m.typeMap.has(e))throw Error("please import modal type "+e);return new Promise(((t,r)=>m.pushModal({id:g(e),mType:e,data:n,resolve:t,reject:r})))})(M,{title:e,message:n,icon:t});function T(){const e=E(["\nmutation claim($code: String!) {\n  claim(code: $code) {\n    type\n    item {\n      id\n      name\n      icon\n    }\n    payload\n  }\n}\n"]);return T=function(){return e},e}function x(){const e=E(["{ user { id, name } }"]);return x=function(){return e},e}function E(e,n){return n||(n=e.slice(0)),e.raw=n,e}const j=/^[0-9A-Z]{7,16}$/,B=(0,Z.parse)(null==(P=location.search)?void 0:P.slice(1));if(/^[0-9a-f]{64}$/.test(B.access_token))try{sessionStorage.setItem("accesstoken",B.access_token),history.replaceState(null,"aov",location.protocol+"//"+location.host+location.pathname)}catch{}const S=sessionStorage.getItem("accesstoken"),H=(0,a.Ps)(x()),_=(0,a.Ps)(T()),O=e=>{var n,t,o;let a;console.error(e);const i=null!=(n=null==e||null==(t=e.graphQLErrors)||null==(o=t[0])?void 0:o.message)?n:null==e?void 0:e.message;switch(i){case"Unauthorized":a=(0,r.BX)(r.HY,{children:["Bạn đã nhận Giftcode thành công",(0,r.BX)("div",{style:{marginTop:"1em"},children:[(0,r.tZ)]})]});break;case"PlayerNotFound":case"DontHaveTencentId":a="Tài khoản này chưa liên kết với Liên Quân Mobile. Vui lòng tải game và đăng nhập";break;case"CodeEmpty":a="Vui lòng nhập Giftcode";break;case"CodeInvalid":a="Giftcode không chính xác";break;case"CodeClaimed":a="Bạn đã nhận Giftcode này rồi";break;case"CodeEnded":a="Đã hết thời gian để nhận giftcode này";break;case"CodeNotStart":a="Bạn chưa thể nhận giftcode này";break;case"CodeLimited":a="Giftcode hiện tại đã hết lượt nhận quà";break;case"Processing":a="Yêu cầu của bạn đang được thực hiện. Vui lòng đợi trong giây lát";break;default:a=(0,r.BX)(r.HY,{children:["Lỗi không xác định",(0,r.tZ)("br",{}),"[",i,"]"]})}return N("Thông báo",a,"info")},q=({user:e})=>{const[n,t]=(0,o.eJ)(""),[a,i]=(0,o.eJ)(!1),[s]=(0,c.useMutation)(_,{context:{headers:{accesstoken:S}}}),l=(0,o.I4)((e=>{var n;t(null==(n=e.target.value)?void 0:n.toUpperCase())}),[t]),d=(0,o.I4)((async t=>{if(t.preventDefault(),a)return!1;try{if(i(!0),!S||!e)throw Error("Unauthorized");if(null==n||!n.length)throw Error("CodeEmpty");if(!j.test(n))throw Error("CodeInvalid");const{data:{claim:{type:t,item:o,payload:a}}}=await s({variables:{code:n}});switch(t){case 0:{const e=a;"-2001"==e.iRet?N("Thông báo",e.sMsg.errorStr,"info"):"-1"==e.iRet?N("Thông báo",e.sMsg,"info"):"-2002"==e.iRet?N("Thông báo","Đăng nhập thất bại, xin hãy mở lại từ trong game","info"):N("Thông báo",e.jData.sMsg,0==e.jData.sMsg.iRet?"success":"info");break}case 1:N("Chúc mừng",(0,r.BX)(r.HY,{children:["Chúc mừng bạn nhận được ",(0,r.tZ)("b",{children:o.name})]}),o.icon)}}catch(e){O(e)}finally{i(!1)}}),[a,e,n]);return(0,r.BX)("form",{onSubmit:d,children:[(0,r.tZ)("div",{className:"mw-100",children:(0,r.tZ)("input",{name:"code",placeholder:"Vui lòng nhập code",value:n,onChange:l})}),(0,r.tZ)("div",{className:"btn-section",children:(0,r.tZ)("div",{className:"btn",onClick:d,children:(0,r.tZ)("img",{src:"images/btn01.png",alt:""})})})]})};var I=()=>{const{data:{user:e}={},loading:n,error:t}=(0,c.useQuery)(H,{skip:!S,context:{headers:{accesstoken:S}}});return(0,o.d4)((()=>{S||n||setTimeout((()=>O(Error("Unauthorized"))),500)}),[n]),(0,o.d4)((()=>{t&&O(t)}),[t]),(0,r.BX)(r.HY,{children:[(0,r.tZ)("header",{children:(0,r.tZ)("img",{src:"https://lienquan.garena.vn/giftcode/pr.png",alt:""})}),(0,r.BX)("main",{children:[(0,r.tZ)(q,{user:e}),(0,r.tZ)("div",{className:"noted",children:'Khi số lượng người cùng quy đổi quá nhiều, bạn có thể gặp lỗi "Hệ thống đang bận". Vui lòng chờ một chút rồi thử lại nhé!'}),(0,r.tZ)("div",{className:"line"})]}),(0,r.BX)("footer",{children:[(0,r.tZ)("p",{children:(0,r.tZ)("img",{src:"https://lienquan.garena.vn/asset/images/logo-footer.png",alt:""})}),(0,r.BX)("p",{className:"address",children:["CÔNG TY CỔ PHẦN GIẢI TRÍ VÀ THỂ THAO ĐIỆN TỬ VIỆT NAM",(0,r.tZ)("br",{}),"Giấy CNĐKKD số 0105301438, cấp lần đầu ngày 10/05/2011",(0,r.tZ)("br",{}),"Cơ quan cấp: Phòng Đăng ký kinh doanh- Sở Kế hoạch và đầu tư TP Hà Nội",(0,r.tZ)("br",{}),"Địa chỉ trụ sở chính: Tầng 29, tòa nhà Trung tâm Lotte Hà Nội, số 54, đường Liễu Giai, Phường Cống Vị, ",(0,r.tZ)("br",{}),"Quận Ba Đình, Thành phố Hà Nội, Việt Nam.",(0,r.tZ)("br",{}),"Điện thoại: 024 73053939"]})]})]})};o.ZP.render((0,r.tZ)(c.ApolloProvider,{client:p,children:(0,r.tZ)((()=>(0,r.BX)(r.HY,{children:[(0,r.tZ)(I,{}),(0,r.tZ)(y,{})]})),{})}),document.getElementById("main"))}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,t),o.loaded=!0,o.exports}t.m=e,t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={763:0},n=[[7194,736]],r=function(){};function o(){for(var r,o=0;o<n.length;o++){for(var a=n[o],i=!0,s=1;s<a.length;s++){var c=a[s];0!==e[c]&&(i=!1)}i&&(n.splice(o--,1),r=t(t.s=a[0]))}return 0===n.length&&(t.x(),t.x=function(){}),r}t.x=function(){t.x=function(){},i=i.slice();for(var e=0;e<i.length;e++)a(i[e]);return(r=o)()};var a=function(o){for(var a,i,c=o[0],l=o[1],d=o[2],h=o[3],u=0,p=[];u<c.length;u++)i=c[u],t.o(e,i)&&e[i]&&p.push(e[i][0]),e[i]=0;for(a in l)t.o(l,a)&&(t.m[a]=l[a]);for(d&&d(t),s(o);p.length;)p.shift()();return h&&n.push.apply(n,h),r()},i=self.webpackChunknode_graphql_kit=self.webpackChunknode_graphql_kit||[],s=i.push.bind(i);i.push=a}(),t.x()}();